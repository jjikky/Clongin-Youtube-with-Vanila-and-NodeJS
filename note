정리

local방식 (username 과 passport 이용)
: username과 password를 post방식으로 전달하고, 우리가 설치해준 플러그인인 mongoose가 자동으로 체크해줘
만약 password가 맞으면 passport에게 맞다고 알리고 passport는 쿠키를 생성해

github방식
: 사용자는 깃헙 웹사이트로 이동 > 권한승인 > 깃헙 웹사이트에서 우리에게 사용자 정보 전송해주는데
그 URL은 OAuth앱 등록할때 썻던 /auth/github/callback
그렇게 되면 passport가 githubLoginCallback이라는 우리가 만들어준 함수 호출
이 함수가 모든 정보(사용자의 프로필같은 )를 받아 
이 정보로 email로 사용자찾기 github ID로 사용자 찾기 등을 할수 있어
이 함수의 한가지 조건은 callback (cb) 함수를 return해야한다는 것
cb함수를 실행시켜야하고 그 함수에게 error가 있는지 user는  있는지를 알려줘야해
error가 있다면 passport는 에러가 있고 user는 없구나 하고 끝낼것이고
user가 존재하면 passport는 이 user를 취해서 쿠키를 만들고 저장하고 브라우저로 보내

github로 갈때 githubLogin이 실행 (우리를 깃헙사이트로 보내줌)
> githubCallback(URL)로 돌아 왔을때, passport는 내가 알려준 함수인  githubLoginCallback 실행
user찾으면 passport는 좋아!라고 통과시키면서 postGithubLogin이 실행(home으로 redirect), 쿠키를 만들어서 저장
user못찾으면 /login화면으로 redirect
즉, cb호출시 user없이 error들어가면 /login으로 보내버리는것
error가 없다고(null) 하고 user를 넣어서 cb함수 호출하면 passport는 나열된 일들을 처리하고
postGithubLogin을 실행시켜서 home화면으로 redirect하게 만들어서 로그인 성공!
